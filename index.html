<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="/lovable-uploads/bc18d8e3-4ad7-47a0-93f0-cf260d970991.png"
      type="image/png"
    />
    <title>Assina AI - Contratos com Segurança Jurídica Garantida</title>
    <meta
      name="description"
      content="Especialistas na elaboração, revisão e gestão de contratos. R$ 30 por contrato, entrega em PDF, garantia de segurança jurídica. Atendemos empresas e pessoas físicas."
    />
    <meta name="author" content="Assina AI" />
    <meta
      name="keywords"
      content="contratos, elaboração de contratos, revisão jurídica, segurança jurídica, contratos personalizados, advogados"
    />

    <meta property="og:title" content="Assina AI - Contratos com Segurança Jurídica Garantida" />
    <meta
      property="og:description"
      content="Especialistas na elaboração, revisão e gestão de contratos. R$ 30 por contrato, entrega em PDF, garantia de segurança jurídica."
    />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta name="twitter:image" content="https://lovable.dev/opengraph-image-p98pqg.png" />

    <style>
      /* ================================
         BOTÃO FLUTUANTE (igual aos prints)
         Estados:
         - idle: "Iniciar chamada" (preto)
         - connecting: "Conectando..." (cinza)
         - active: "Encerrar chamada" (preto)
      ================================= */

      #retell-fab {
        position: fixed;
        right: 18px;
        bottom: 18px;

        height: 64px;
        width: 320px;
        max-width: calc(100vw - 36px);

        border: 0;
        border-radius: 999px;
        cursor: pointer;

        background: #ffffff; /* container branco */
        box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);

        display: flex;
        align-items: center;
        gap: 12px;
        padding: 10px 12px;

        z-index: 999999;
        -webkit-tap-highlight-color: transparent;
      }

      #retell-fab:active {
        transform: translateY(1px);
      }

      #retell-fab:focus-visible {
        outline: 3px solid rgba(0, 0, 0, 0.25);
        outline-offset: 3px;
      }

      /* bolinha da esquerda (vazia) */
      .retell-fab-knob {
        width: 44px;
        height: 44px;
        border-radius: 999px;
        background: #ffffff;
        box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.18);
        flex: 0 0 auto;
      }

      /* "pílula" interna */
      .retell-fab-pill {
        flex: 1;
        height: 100%;
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        padding: 0 18px;

        background: #111111; /* default: preto */
        color: #ffffff;

        transition: background 160ms ease, color 160ms ease, opacity 160ms ease;
      }

      .retell-fab-icon {
        width: 18px;
        height: 18px;
        color: currentColor;
      }

      .retell-fab-text {
        font: 600 16px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
        letter-spacing: -0.1px;
        color: currentColor;
        white-space: nowrap;
      }

      /* Estado: CONNECTING (cinza) */
      #retell-fab[data-state="connecting"] {
        cursor: default;
      }

      #retell-fab[data-state="connecting"] .retell-fab-pill {
        background: #8f8f8f;
        color: #ffffff;
      }

      /* Estado: ACTIVE (preto, texto Encerrar) */
      #retell-fab[data-state="active"] .retell-fab-pill {
        background: #111111;
        color: #ffffff;
      }

      /* ================================
         Painel antigo (DESATIVADO)
         Mantemos no HTML só pra não quebrar ids,
         mas ele nunca aparece.
      ================================= */
      #retell-panel {
        display: none !important;
      }
    </style>
  </head>

  <body>
    <div id="root"></div>

    <!-- Botão flutuante (layout igual ao print) -->
    <button
      id="retell-fab"
      type="button"
      aria-label="Iniciar chamada com assistente"
      data-state="idle"
    >
      <span class="retell-fab-knob" aria-hidden="true"></span>

      <span class="retell-fab-pill">
        <!-- ícone: telefone -->
        <svg class="retell-fab-icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path
            d="M6.6 10.8c1.5 3 3.6 5.1 6.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 1.2.4 2.5.6 3.9.6.6 0 1 .4 1 1V20c0 .6-.4 1-1 1C10.6 21 3 13.4 3 4c0-.6.4-1 1-1h3.5c.6 0 1 .4 1 1 0 1.3.2 2.6.6 3.9.1.4 0 .8-.3 1.1L6.6 10.8z"
            fill="currentColor"
          />
        </svg>

        <span class="retell-fab-text" id="retell-fab-label">Iniciar chamada</span>
      </span>
    </button>

    <!-- Painel antigo (oculto). Pode apagar depois se quiser. -->
    <div id="retell-panel" role="dialog" aria-modal="false" aria-label="Assistente de voz">
      <header>
        <div>
          <div class="title">Assina AI</div>
          <div class="status" id="retell-status">Pronto para iniciar</div>
        </div>
        <button class="btn" id="retell-close" style="flex: 0 0 auto; padding: 8px 10px">✕</button>
      </header>
      <div class="body">
        Clique em <b>Iniciar</b>, permita o microfone e fale normalmente.
        <div id="retell-error"></div>
      </div>
      <div class="controls">
        <button class="btn primary" id="retell-start">Iniciar</button>
        <button class="btn" id="retell-stop" disabled>Encerrar</button>
      </div>
    </div>

    <!-- Carrega seu app React -->
    <script type="module" src="/src/main.tsx"></script>

    <!-- Somente controla o texto/estado do botão -->
    <script>
      (function () {
        const fab = document.getElementById("retell-fab");
        const label = document.getElementById("retell-fab-label");

        function setState(state) {
          fab.dataset.state = state;
          if (state === "idle") label.textContent = "Iniciar chamada";
          if (state === "connecting") label.textContent = "Conectando...";
          if (state === "active") label.textContent = "Encerrar chamada";
        }

        // Hook global que o main.tsx chama:
        window.setRetellCallState = function (state) {
          setState(state);
        };

        // estado inicial
        setState("idle");
      })();
    </script>
  </body>
</html>